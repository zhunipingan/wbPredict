{% extends "base.html" %}
{% load staticfiles %}
    {% block context %}
            <!-- ============================================================== -->
            <!-- Container fluid  -->
            <!-- ============================================================== -->
            <div class="container-fluid">
                <!-- ============================================================== -->
                <!-- Bread crumb and right sidebar toggle图标上面的一行空白 -->
                <!-- ============================================================== -->
               <div class="row page-titles">

                </div>
                <!-- ============================================================== -->
                <!-- End Bread crumb and right sidebar toggle -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- Start Page Content -->
                <!-- ============================================================== -->
                <div class="row">
                    <!-- Column -->
                    <div class="col-lg-8 col-xlg-9 col-md-7">
                        <div class="card">
                            <!-- Nav tabs -->
                            <ul class="nav nav-tabs profile-tab" role="tablist">
                                <li class="nav-item"> <a class="nav-link active" data-toggle="tab" href="#home" role="tab">最近微博</a> </li>
                                <!--<li class="nav-item"> <a class="nav-link" data-toggle="tab" href="#profile" role="tab">Profile</a> </li>
                                <li class="nav-item"> <a class="nav-link" data-toggle="tab" href="#settings" role="tab">Settings</a> </li>-->
                            </ul>
                            <!-- Tab panes -->
                            <div class="tab-content">
                                <div class="tab-pane active" id="home" role="tabpanel">
                                    <div class="card-block">
                                        <div class="profiletimeline">
                                            {% for weibo in page.object_list %}
                                                <div class="sl-item">
                                                    <div class="sl-left"> <img src="{{user_info.portrait}}" alt="user" class="img-circle"> </div>
                                                    <div class="sl-right">
                                                        <div><a  class="link">{{user_info.name}}</a> <span class="sl-date">{{weibo.created_at}}</span>
                                                            <p>{{weibo.content}}</p>
                                                            <div class="row">
                                                                {% for pic in weibo.pic_url %}
                                                                    <div class="col-lg-3 col-md-6 m-b-20"><img src="{{pic}}" alt="user" class="img-responsive radius"></div>
                                                                {% endfor %}

                                                            </div>
                                                            <div class="like-comm"> {{weibo.repost_num}} 转发  {{weibo.like_num}} 点赞 <a href="javascript:void(0)" class="link m-r-10">{{weibo.comment_num}} 评论</a>  <a href="{{ weibo.get_absolute_url }}" target="_parent">查看数据</a></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            <hr>
                                            {% empty %}
                                                 <p class="m-t-10"> 暂时没有发现微博~ </p>
                                            {% endfor %}

                                            <!--<div class="sl-item">
                                                <div class="sl-left"> <img src="{% static 'index/assets/images/users/2.jpg' %}" alt="user" class="img-circle"> </div>
                                                <div class="sl-right">
                                                    <div> <a href="#" class="link">John Doe</a> <span class="sl-date">5 minutes ago</span>
                                                        <div class="m-t-20 row">
                                                            <div class="col-md-3 col-xs-12"><img src="{% static 'index/assets/images/big/img1.jpg' %}" alt="user" class="img-responsive radius"></div>
                                                            <div class="col-md-9 col-xs-12">
                                                                <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. </p> <a href="#" class="btn btn-success"> Design weblayout</a></div>
                                                        </div>
                                                        <div class="like-comm m-t-20"> <a href="javascript:void(0)" class="link m-r-10">2 comment</a> <a href="javascript:void(0)" class="link m-r-10"><i class="fa fa-heart text-danger"></i> 5 Love</a> </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <hr>-->
                                        </div>
                                    </div>
                                </div>
                                <!--second tab-->
                                <!--<div class="tab-pane" id="profile" role="tabpanel">
                                    <div class="card-block">
                                        <div class="row">
                                            <div class="col-md-3 col-xs-6 b-r"> <strong>Full Name</strong>
                                                <br>
                                                <p class="text-muted">Johnathan Deo</p>
                                            </div>
                                            <div class="col-md-3 col-xs-6 b-r"> <strong>Mobile</strong>
                                                <br>
                                                <p class="text-muted">(123) 456 7890</p>
                                            </div>
                                            <div class="col-md-3 col-xs-6 b-r"> <strong>Email</strong>
                                                <br>
                                                <p class="text-muted">johnathan@admin.com</p>
                                            </div>
                                            <div class="col-md-3 col-xs-6"> <strong>Location</strong>
                                                <br>
                                                <p class="text-muted">London</p>
                                            </div>
                                        </div>
                                        <hr>
                                        <p class="m-t-30">Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer tincidunt.Cras dapibus. Vivamus elementum semper nisi. Aenean vulputate eleifend tellus. Aenean leo ligula, porttitor eu, consequat vitae, eleifend ac, enim.</p>
                                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries </p>
                                        <p>It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
                                        <h4 class="font-medium m-t-30">Skill Set</h4>
                                        <hr>
                                        <h5 class="m-t-30">Wordpress <span class="pull-right">80%</span></h5>
                                        <div class="progress">
                                            <div class="progress-bar bg-success" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width:80%; height:6px;"> <span class="sr-only">50% Complete</span> </div>
                                        </div>
                                        <h5 class="m-t-30">HTML 5 <span class="pull-right">90%</span></h5>
                                        <div class="progress">
                                            <div class="progress-bar bg-info" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width:90%; height:6px;"> <span class="sr-only">50% Complete</span> </div>
                                        </div>
                                        <h5 class="m-t-30">jQuery <span class="pull-right">50%</span></h5>
                                        <div class="progress">
                                            <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width:50%; height:6px;"> <span class="sr-only">50% Complete</span> </div>
                                        </div>
                                        <h5 class="m-t-30">Photoshop <span class="pull-right">70%</span></h5>
                                        <div class="progress">
                                            <div class="progress-bar bg-warning" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100" style="width:70%; height:6px;"> <span class="sr-only">50% Complete</span> </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane" id="settings" role="tabpanel">
                                    <div class="card-block">
                                        <form class="form-horizontal form-material">
                                            <div class="form-group">
                                                <label class="col-md-12">Full Name</label>
                                                <div class="col-md-12">
                                                    <input type="text" placeholder="Johnathan Doe" class="form-control form-control-line">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="example-email" class="col-md-12">Email</label>
                                                <div class="col-md-12">
                                                    <input type="email" placeholder="johnathan@admin.com" class="form-control form-control-line" name="example-email" id="example-email">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-12">Password</label>
                                                <div class="col-md-12">
                                                    <input type="password" value="password" class="form-control form-control-line">
                                                </div>
                                            </div>
                                            <div class=ssign a new task"form-group">
                                                <label class="col-md-12">Phone No</label>
                                                <div class="col-md-12">
                                                    <input type="text" placeholder="123 456 7890" class="form-control form-control-line">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-12">Message</label>
                                                <div class="col-md-12">
                                                    <textarea rows="5" class="form-control form-control-line"></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-12">Select Country</label>
                                                <div class="col-sm-12">
                                                    <select class="form-control form-control-line">
                                                        <option>London</option>
                                                        <option>India</option>
                                                        <option>Usa</option>
                                                        <option>Canada</option>
                                                        <option>Thailand</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="col-sm-12">
                                                    <button class="btn btn-success">Update Profile</button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>-->
                            </div>
                            <!--下面是分页-->
                            <div class="pagination-simple" align="center">
                              <!-- 如果当前页还有上一页，显示一个上一页的按钮 -->
                              {% if page.has_previous %}
                                <a href="?page=1">首页</a>
                                <a href="?page={{ page.previous_page_number }}">上一页</a>
                              {% endif %}
                              <!-- 显示当前页面信息 -->
                              <span class="current">第 {{ page.number }} 页 / 共 {{ page.paginator.num_pages }} 页</span>
                              <!-- 如果当前页还有下一页，显示一个下一页的按钮 -->
                              {% if page.has_next %}
                                <a href="?page={{ page.next_page_number }}">下一页</a>
                                <a href="?page={{ page.paginator.num_pages }}">尾页</a>
                              {% endif %}
                    </div>

                        </div>
                    </div>
                    <div class="col-lg-4 col-xlg-3 col-md-5">
                        <!-- Column -->
                        <div class="card">
                            <img class="card-img-top" src="{% static 'index/assets/images/background/profile-bg.jpg' %}" alt="Card image cap">
                            <div class="card-block little-profile text-center">
                                <div class="pro-img"><img src="{{user_info.portrait}}" alt="user" /></div>
                                <h3 class="m-b-0">{{user_info.name}}</h3>
                                <p>{{user_info.introduction}}</p>
                                <a href="/blogger/{{user_info.id}}" target="_parent">查看博主数据</a>

                                <!--<a href="javascript:void(0)" class="m-t-10 waves-effect waves-dark btn btn-primary btn-md btn-rounded">Follow</a>-->
                                <div class="row text-center m-t-20">
                                    <div class="col-lg-4 col-md-4 m-t-20">
                                        <h3 class="m-b-0 font-light">{{user_info.blogs}}</h3><small>微博</small></div>
                                    <div class="col-lg-4 col-md-4 m-t-20">
                                        <h3 class="m-b-0 font-light">{{user_info.fans}}</h3><small>粉丝</small></div>
                                    <div class="col-lg-4 col-md-4 m-t-20">
                                        <h3 class="m-b-0 font-light">{{user_info.follows}}</h3><small>关注</small></div>
                                </div>
                            </div>
                        </div>
                        <!-- Column -->
                        <div class="card">
                            <div class="card-block bg-info">
                                <h4 class="text-white card-title">基本信息</h4>
                                <h6 class="card-subtitle text-white m-b-0 op-5"></h6>
                            </div>
                            <div class="card-block">
                                <div class="message-box contact-box">
                                    <!--加号<h2 class="add-ct-btn"><button type="button" class="btn btn-circle btn-lg btn-success waves-effect waves-dark">+</button></h2>-->
                                    <div class="message-widget contact-widget">
                                        <!-- Message -->
                                        <a href="#">
                                            <div class="mail-contnet">
                                                <h5>性别</h5> <span class="mail-desc">{{user_info.gender}}</span></div>
                                        </a>
                                        <!-- Message -->
                                        <a href="#">
                                            <div class="mail-contnet">
                                                <h5>地区</h5> <span class="mail-desc">{{user_info.location}}</span></div>
                                        </a>
                                        <!-- Message -->
                                        <a href="#">
                                            <div class="mail-contnet">
                                                <h5>生日</h5> <span class="mail-desc">{{user_info.birthday}}</span></div>
                                        </a>
                                        <!-- Message -->
                                        <a href="#">
                                            <div class="mail-contnet">
                                                <h5>性取向</h5> <span class="mail-desc">{{user_info.sex_orientation}}</span></div>
                                        </a>
                                        <a href="#">
                                            <div class="mail-contnet">
                                                <h5>标签</h5> <span class="mail-desc">{{user_info.labels}}</span></div>
                                        </a>
                                        <!-- Message -->
                                        <!--<a href="#">
                                            <div class="user-img"> <img src="{% static 'index/assets/images/users/4.jpg' %}" alt="user" class="img-circle"> <span class="profile-status offline pull-right"></span> </div>
                                            <div class="mail-contnet">
                                                <h5>Pavan kumar</h5> <span class="mail-desc">kat@gmail.com</span></div>
                                        </a>-->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--下面是0320添加的分页-->
                <!-- ============================================================== -->
                <!-- End PAge Content -->
                <!-- ============================================================== -->
            </div>
            <!-- ============================================================== -->
            <!-- End Container fluid  -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- footer -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- End footer -->
            <!-- ============================================================== -->

    {% endblock context %}

{% block javascript %}
           <script type="text/javascript">
var dom = document.getElementById("container");
var myChart = echarts.init(dom);
var app = {};
var list = {{list|safe}}
option = null;
option = {
    title: {
        text: '每日互动量'
    },
    tooltip: {
        trigger: 'axis'
    },
    legend: {
        data:['点赞数','评论数','转发数']
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    toolbox: {
        feature: {
            saveAsImage: {}
        }
    },
    xAxis: {
        type: 'category',
        boundaryGap: false,
        data: list.date//['周一','周二','周三','周四','周五','周六','周日']
    },
    yAxis: {
        type: 'value'
    },
    series: [
        {
            name:'点赞数',
            type:'line',
            stack: '总量',
            data:list.like//[120, 132, 101, 134, 90, 230, 210]
        },
        {
            name:'评论数',
            type:'line',
            stack: '总量',
            data:list.comment//[220, 182, 191, 234, 290, 330, 310]
        },
        {
            name:'转发数',
            type:'line',
            stack: '总量',
            data:list.forward//[150, 232, 201, 154, 190, 330, 410]
        }
    ]
};
;
if (option && typeof option === "object") {
    myChart.setOption(option, true);
}
//container 2
var dom = document.getElementById("container_2");
var lineChart2 = echarts.init(dom);
var app = {};
var list = {{list|safe}}
option = null;
option = {
    title: {
        text: '每日粉丝数'
    },
    tooltip: {
        trigger: 'axis'
    },
    legend: {
        data:['点赞数','评论数','转发数']
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    toolbox: {
        feature: {
            saveAsImage: {}
        }
    },
    xAxis: {
        type: 'category',
        boundaryGap: false,
        data: list.date//['周一','周二','周三','周四','周五','周六','周日']
    },
    yAxis: {
        type: 'value'
    },
    series: [
        {
            name:'点赞数',
            type:'line',
            stack: '总量',
            data:list.like//[120, 132, 101, 134, 90, 230, 210]
        },
        {
            name:'评论数',
            type:'line',
            stack: '总量',
            data:list.comment//[220, 182, 191, 234, 290, 330, 310]
        },
        {
            name:'转发数',
            type:'line',
            stack: '总量',
            data:list.forward//[150, 232, 201, 154, 190, 330, 410]
        }
    ]
};
;
if (option && typeof option === "object") {
    lineChart2.setOption(option, true);
}

//linechart3
var dom = document.getElementById("container_3");
var lineChart3 = echarts.init(dom);
var app = {};
option = null;
var xAxisData = [];
var data1 = [];
var data2 = [];
for (var i = 0; i < 100; i++) {
    xAxisData.push('类目' + i);
    data1.push((Math.sin(i / 5) * (i / 5 -10) + i / 6) * 5);
    data2.push((Math.cos(i / 5) * (i / 5 -10) + i / 6) * 5);
}

option = {
    title: {
        text: '每日粉丝增减量'
    },
    legend: {
        data: ['bar', 'bar2'],
        align: 'left'
    },
    toolbox: {
        // y: 'bottom',
        feature: {
            magicType: {
                type: ['stack', 'tiled']
            },
            dataView: {},
            saveAsImage: {
                pixelRatio: 2
            }
        }
    },
    tooltip: {},
    xAxis: {
        data: xAxisData,
        silent: false,
        splitLine: {
            show: false
        }
    },
    yAxis: {
    },
    series: [{
        name: 'bar',
        type: 'bar',
        data: data1,
        animationDelay: function (idx) {
            return idx * 10;
        }
    }, {
        name: 'bar2',
        type: 'bar',
        data: data2,
        animationDelay: function (idx) {
            return idx * 10 + 100;
        }
    }],
    animationEasing: 'elasticOut',
    animationDelayUpdate: function (idx) {
        return idx * 5;
    }
};;
if (option && typeof option === "object") {
    lineChart3.setOption(option, true);
}

// pie 1
var dom = document.getElementById("piecontainer");
var myChart = echarts.init(dom);
var app = {};
var pie_info = {{pie|safe}}
option = null;
app.title = '环形图';

option = {
    tooltip: {
        trigger: 'item',
        formatter: "{a} <br/>{b}: {c} ({d}%)"
    },
    legend: {
        orient: 'vertical',
        x: 'left',
        data:['点赞数','转发数','评论数']
    },
    series: [
        {
            name:'历史总互动量',
            type:'pie',
            radius: ['50%', '70%'],
            avoidLabelOverlap: false,
            label: {
                normal: {
                    show: false,
                    position: 'center'
                },
                emphasis: {
                    show: true,
                    textStyle: {
                        fontSize: '30',
                        fontWeight: 'bold'
                    }
                }
            },
            labelLine: {
                normal: {
                    show: false
                }
            },
            data:[
                {value:pie_info.like, name:'点赞数'},
                {value:pie_info.comment, name:'转发数'},
                {value:pie_info.forward, name:'评论数'},

            ]
        }
    ]
};
;
if (option && typeof option === "object") {
    myChart.setOption(option, true);
}


// pie 2
var dom = document.getElementById("piecontainer_2");
var pieChart2 = echarts.init(dom);
var app = {};
var pie_info = {{pie|safe}}
option = null;
app.title = '环形图';

option = {
    tooltip: {
        trigger: 'item',
        formatter: "{a} <br/>{b}: {c} ({d}%)"
    },
    legend: {
        orient: 'vertical',
        x: 'left',
        data:['点赞数','转发数','评论数']
    },
    series: [
        {
            name:'历史总互动量',
            type:'pie',
            radius: ['50%', '70%'],
            avoidLabelOverlap: false,
            label: {
                normal: {
                    show: false,
                    position: 'center'
                },
                emphasis: {
                    show: true,
                    textStyle: {
                        fontSize: '30',
                        fontWeight: 'bold'
                    }
                }
            },
            labelLine: {
                normal: {
                    show: false
                }
            },
            data:[
                {value:pie_info.like, name:'点赞数'},
                {value:pie_info.comment, name:'转发数'},
                {value:pie_info.forward, name:'评论数'},

            ]
        }
    ]
};
;
if (option && typeof option === "object") {
    pieChart2.setOption(option, true);
}
       </script>
{% endblock javascript %}